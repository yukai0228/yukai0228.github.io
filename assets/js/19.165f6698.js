(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{190:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("BlogPostMeta"),t._v(" "),s("p"),t._m(1),s("p"),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("进入conf文件夹下新增编辑zoo.cfg文件并指定dataDir和dataLogDir的值")]),t._v(" "),t._m(9),t._m(10),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),s("p",[t._v("进入conf文件下下新增编辑zoo.cfg文件")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),s("Valine")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"zookeeper分布式集群搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper分布式集群搭建","aria-hidden":"true"}},[this._v("#")]),this._v(" Zookeeper分布式集群搭建")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#单机安装"}},[t._v("单机安装")])]),s("li",[s("a",{attrs:{href:"#下载解压"}},[t._v("下载解压")])]),s("li",[s("a",{attrs:{href:"#配置环境变量，编辑-etc-profile文件"}},[t._v("配置环境变量，编辑/etc/profile文件")])]),s("li",[s("a",{attrs:{href:"#编辑配置文件"}},[t._v("编辑配置文件")])]),s("li",[s("a",{attrs:{href:"#运行"}},[t._v("运行")])]),s("li",[s("a",{attrs:{href:"#下载解压zk"}},[t._v("下载解压ZK")])]),s("li",[s("a",{attrs:{href:"#配置环境变量"}},[t._v("配置环境变量")])]),s("li",[s("a",{attrs:{href:"#配置生效"}},[t._v("配置生效")])]),s("li",[s("a",{attrs:{href:"#编辑配置文件"}},[t._v("编辑配置文件")])]),s("li",[s("a",{attrs:{href:"#新增配置文件夹"}},[t._v("新增配置文件夹")])]),s("li",[s("a",{attrs:{href:"#启动zk"}},[t._v("启动ZK")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"单机安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单机安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 单机安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"下载解压"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载解压","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载解压")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("wget https://archive.apache.org/dist/zookeeper/zookeeper-3.4.13/zookeeper-3.4.13.tar.gz\ntar -zxvf zookeeper-3.4.13.tar.gz\nmv zookeeper-3.4.13 zookeeper\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"配置环境变量，编辑-etc-profile文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置环境变量，编辑-etc-profile文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置环境变量，编辑/etc/profile文件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("export ZOOKEEPER_HOME=/data/zookeeper/zookeeper\nexport PATH=$PATH:$ZOOKEEPER_HOME/bin\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("执行"),e("code",[this._v("source /etc/profile")]),this._v("命令")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"编辑配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编辑配置文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 编辑配置文件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd /data/zookeeper/zookeeper\nmkdir dataDir\nmkdir dataLogDir\ncd conf\ncp zoo_sample.cfg zoo.cfg\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br"),e("span",{staticClass:"line-number"},[this._v("4")]),e("br"),e("span",{staticClass:"line-number"},[this._v("5")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("dataDir=/data/zookeeper/zookeeper/dataDir\ndataLogDir=/data/zookeeper/zookeeper/dataLogDir\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行","aria-hidden":"true"}},[this._v("#")]),this._v(" 运行")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("zkServer.sh start\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"下载解压zk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载解压zk","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载解压ZK")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("wget")]),this._v(" https://archive.apache.org/dist/zookeeper/zookeeper-3.4.11/zookeeper-3.4.11.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("tar")]),this._v(" -zxvf zookeeper-3.4.11.tar.gz\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"配置环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置环境变量","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置环境变量")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("编辑"),e("code",[this._v("/etc/profile")]),this._v("文件，在最后添加")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" ZOOKEEPER_HOME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/data/zookeeper/zookeeper-3.4.11\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" PATH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ZOOKEEPER_HOME")]),t._v("/bin\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"配置生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置生效","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置生效")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("source")]),this._v(" /etc/profile\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"编辑配置文件-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编辑配置文件-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 编辑配置文件")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("tickTime"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2000\ninitLimit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("10\nsyncLimit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("5\ndataDir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/data/zookeeper/zookeeper-3.4.11/dataDir\ndataLogDir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/data/zookeeper/zookeeper-3.4.11/dataLogDir\nclientPort"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2181\n4lw.commands.whitelist"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("*\nserver.1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("192.168.0.55:2888:3888\nserver.2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("192.168.0.233:2888:3888\nserver.3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("192.168.0.195:2888:3888\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"新增配置文件夹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新增配置文件夹","aria-hidden":"true"}},[this._v("#")]),this._v(" 新增配置文件夹")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@server-0002 zookeeper-3.4.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir dataDir")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@server-0002 zookeeper-3.4.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mkdir dataLogDir")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@server-0002 zookeeper-3.4.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd dataDir/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置各个节点的myid")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@server-0002 dataDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo 1 > myid ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"启动zk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动zk","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动ZK")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动")]),t._v("\nzkServer.sh start\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查状态")]),t._v("\nzkServer.sh status\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])}],!1,null,null,null);r.options.__file="zookeeper-ha.md";e.default=r.exports}}]);